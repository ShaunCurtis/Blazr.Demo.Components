# The Supporting Cast

In this chapter we will look at the other objects associated with Components and the render process.

## Interfaces

As we have already seen, a component must implement `IComponent` which is defined as:

```csharp
public interface IComponent
{
    void Attach(RenderHandle renderHandle);
    Task SetParametersAsync(ParameterView parameters);
}
```

It can also implement two other Renderer related events.

`IHandleEvent` allows you to define a custom event handler for all UI events.

```csharp
public interface IHandleEvent
{
    Task HandleEventAsync(EventCallbackWorkItem item, object? arg);
}
```

And `IHandleAfterRender` which is called after the component is rendered.

```csharp
public interface IHandleAfterRender
{
    Task OnAfterRenderAsync();
}
```

## The RendleHandle

A RendleHandle is passed to the component when the Renderer calls `Attach`.  It's designed to be held and stored locally by the component.

To quote Microsoft:

> A RenderHandle structure allows a component to interact with its renderer.

It has two important features:

1. A `Render` method.
2. A property referencing the Dispatcher for the `SynchronisationContext` - i.e. the Dispatcher for the thread on which all UI based code must be run.

## The RenderFragment

A render fragment isn't a block of UI code.  You can't do this:

```csharp
RenderFragment someUi = "<div>Hello Blazor</div>";
```

To quote the official Microsoft documentation.

*A RenderFragement represents a segment of UI content, implemented as a delegate that writes the content to a RenderTreeBuilder.*

The `RenderTreeBuilder` is even more succinct:

*Provides methods for building a collection of RenderTreeFrame entries.*

A `RenderFragment` is a delegate defined as follows:

```csharp
public delegate void RenderFragment(RenderTreeBuilder builder);
```

If you're new to delegates think of them as a pattern definition.  Any function that conforms to the pattern defined by the `RenderFragment` delegate can passed as a `RenderFragment`.  

The pattern dictates your method must:

1. Have one, and only one, parameter of type `RenderTreeBuilder`.
2. Return a `void`.
